{"version":3,"file":"util.js","sourceRoot":"","sources":["src/util.ts"],"names":[],"mappings":"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","sourcesContent":["\nconst validateName = (name: string) => {\n    if((name + \"\").length > 2) {\n      return true;\n    }\n    return false;\n}\n\nfunction isJsonString(str: string) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nfunction readCookie(key: string) {\n    let name = key + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for(let i = 0; i <ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\nasync function callApi(url: string, data: string, authorization: any) {\n\n    return new Promise((resolve: any) => {\n\n        const jsonData = JSON.stringify(data);\n        var xhr = new XMLHttpRequest();\n        xhr.addEventListener(\"readystatechange\", () => {\n            if(xhr != null) {\n                if(xhr.readyState === 4) {\n                    resolve(xhr);\n                }\n            }\n        });\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); \n        if(authorization != null) {\n            xhr.setRequestHeader('Authorization', 'Basic ' + authorization);\n        }\n        xhr.send(jsonData);\n\n        return xhr;\n\n    })\n\n}\n\nasync function replaceElement(element: any) {\n    var old_element = element;\n    var new_element = old_element.cloneNode(true);\n    old_element.parentNode.replaceChild(new_element, old_element);\n    return new_element;\n}\n\nfunction getDayMonthYear(d: Date) {\n    let month = '' + (d.getMonth() + 1);\n    let day = '' + d.getDate();\n    let year = d.getFullYear();\n    \n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n    return [day, month, year]\n}\n\nfunction timeSince(date:number) {\n    let originalSeconds = Math.floor((new Date().getTime() - date) / 1000);\n    var seconds = originalSeconds;\n  \n    var interval = Math.floor(seconds / 31536000);\n    let returnstr = \"\"\n    if (interval >= 1) {\n      returnstr += Math.floor(interval) + (Math.floor(interval) == 1 ? \" yr \" : \" yrs \");\n      seconds = seconds - (interval * 31536000) \n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval >= 1) {\n      returnstr += Math.floor(interval) + (Math.floor(interval) == 1 ? \" mth \" : \" mths \");\n      seconds = seconds - (interval * 2592000)\n    }\n    if(originalSeconds >= 31536000){\n        return returnstr;\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval >= 1) {\n      returnstr += Math.floor(interval) + (Math.floor(interval) == 1 ? \" day \" : \" days \");\n      seconds = seconds - (interval * 86400)\n    }\n    if(originalSeconds >= 2592000){\n        return returnstr;\n    }\n    console.log('ago', seconds, interval, Math.floor((new Date().getTime() - date) / 1000))\n    interval = Math.floor(seconds / 3600);\n    if (interval >= 1) {\n      returnstr += Math.floor(interval) + (Math.floor(interval) == 1 ? \" hr \" : \" hrs \");\n      seconds = seconds - (interval * 3600)\n    }\n    if(originalSeconds >= 86400){\n        return returnstr;\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval >= 1) {\n      returnstr += Math.floor(interval) + (Math.floor(interval) == 1 ? \" min \" : \" mins \");\n      seconds = seconds - (interval * 60)\n    }\n    if(originalSeconds >= 3600){\n        return returnstr;\n    }\n    if(seconds > 0){\n        returnstr += Math.floor(seconds) + (Math.floor(seconds) == 1 ? \" sec \" : \" seconds \");\n    }\n    return returnstr;\n  }\n\nconst exportFunctions = {\n   callApi, validateName, readCookie, replaceElement, getDayMonthYear, isJsonString, timeSince\n};\n\nexport default exportFunctions;"]}